package com.gl.jpa.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.gl.jpa.model.Gender;
import com.gl.jpa.model.Person;
import com.gl.jpa.repo.PersonRepo;

@Service
public class PersonService 
{

    @Autowired
    PersonRepo personRepo;

    @Autowired
    GenderService genderService; // to fetch Gender by id

    public void add(String name, int genderId) 
    {
    	
        Gender gender = genderService.getById(genderId);
        if (gender == null) 
        {
            System.err.println("Invalid gender id");
        }

        Person person = new Person(name, gender);
        personRepo.save(person);
    }
}
